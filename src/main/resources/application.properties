spring.application.name=smartmottu

## =======================
## DataSource (PROD / default)
## Valores podem ser sobrescritos via App Settings (Azure Portal > Configuration > Application Settings)
## Variáveis recomendadas: DB_URL, DB_USERNAME, DB_PASSWORD
spring.datasource.url=${DB_URL:jdbc:sqlserver://sql-server-smartmottu.database.windows.net:1433;database=db-smartmottu;encrypt=true;trustServerCertificate=false;hostNameInCertificate=*.database.windows.net;loginTimeout=30;}
spring.datasource.username=${DB_USERNAME:user-smartmottu}
spring.datasource.password=${DB_PASSWORD:senha-smartmottu}
spring.datasource.driver-class-name=com.microsoft.sqlserver.jdbc.SQLServerDriver

spring.jpa.hibernate.ddl-auto=none
spring.jpa.database-platform=org.hibernate.dialect.SQLServerDialect

# Flyway (caminho migrations)
spring.flyway.locations=classpath:db/migration
spring.flyway.enabled=true

## =======================
## Logging defaults (elevar para DEBUG via App Settings se necessário)
logging.level.org.springframework=INFO
logging.level.org.hibernate.SQL=INFO
logging.level.org.hibernate.orm.jdbc.bind=ERROR

## Ex.: LOGGING_LEVEL_BR_COM_FIAP=DEBUG no Azure para investigar serviços

server.port=${PORT:8080}

## Perfil ativo pode ser definido via SPRING_PROFILES_ACTIVE=prod no Azure
# spring.profiles.active=prod